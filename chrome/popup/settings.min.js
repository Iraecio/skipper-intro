const e={settings:{skipIntro:!0,skipCredits:!0,skipAd:!0,blockFreevee:!0,speedSlider:!0,filterPaid:!0,pip:!0,cleanCatalog:!1}};let t={};function s(){if(Object.entries(t).length)for(const[e,s]of Object.entries(t)){const t=document.querySelector(`#${e}`);t&&(t.checked=s)}}function n(s){const n=Object.keys(e.settings),i=s.target.id;n.includes(i)&&i&&function(e){const s=t[e],n=!s;s!==n&&(t[e]=n,chrome.storage.sync.set({settings:t}))}(i)}chrome.storage.sync.get(["settings"],(n=>{t=n.settings??e.settings;const i=function(e,t){const s={...t,...e},n=Object.keys(t),i=Object.keys(e);for(const e of n)i.includes(e)||(s[e]=t[e]);for(const e of i)n.includes(e)||delete s[e];return JSON.stringify(s)!==JSON.stringify(e)?s:e}(t,e.settings);i&&chrome.storage.sync.set({settings:t}),s()})),chrome.storage.sync.onChanged.addListener((e=>{if(e.settings){const n=e.settings.newValue;JSON.stringify(t)!==JSON.stringify(n)&&(t=n,s())}})),document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("click",n)}));